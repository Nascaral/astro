---
import { Image } from 'astro:assets';
import type { CollectionEntry } from 'astro:content';

interface Props {
	testimonial: CollectionEntry<'testimonials'>;
	Content: any;
}

const { testimonial, Content } = Astro.props;
const { name, role, company, avatar, rating } = testimonial.data;
---

<div class="testimonial-card">
	<div class="rating">
		{Array.from({ length: rating }).map(() => (
			<span class="star">â˜…</span>
		))}
	</div>
	<blockquote><Content /></blockquote>
	<div class="author">
		{avatar && (
			<div class="avatar">
				<Image src={avatar} alt={name} width={60} height={60} />
			</div>
		)}
		<div class="author-info">
			<strong>{name}</strong>
			<p>{role} at {company}</p>
		</div>
	</div>
</div>